{% extends "template.html" %}
{% load static %}

{% block titulo %}Produtos{% endblock titulo %}

{% block conteudo %}
    <section class="produtos-section">
        <h1 class="section-title">Nossos Produtos</h1>
        <div class="produtos-grid">
            {% for p in prods %}
                <div class="produto-card">
                    <div class="produto-imagem">
                        {% if "playstation" in p.nome|lower or "ps5" in p.nome|lower or "playstation 5" in p.nome|lower %}
                            <img src="{% static 'images/PlayStation5.jpg' %}" alt="{{ p.nome }}">
                        {% elif "samsung" in p.nome|lower or "galaxy" in p.nome|lower %}
                            <img src="{% static 'images/Samsung_Galaxy.jpeg' %}" alt="{{ p.nome }}">
                        {% elif "controle" in p.nome|lower or "controller" in p.nome|lower %}
                            <img src="{% static 'images/Controlenovo.jpg' %}" alt="{{ p.nome }}">
                        {% else %}
                            <img src="{% static 'images/images.png' %}" alt="{{ p.nome }}">
                        {% endif %}
                    </div>
                    <div class="produto-info">
                        <h3>{{ p.nome }}</h3>
                        <p class="produto-descricao">{{ p.descricao|truncatewords:20 }}</p>
                        {% if p.categoria %}
                            <span class="produto-categoria">{{ p.categoria }}</span>
                        {% endif %}
                        <div class="produto-preco">
                            <span class="preco">R$ {{ p.preco|floatformat:2 }}</span>
                            <span class="estoque">Estoque: {{ p.estoque }}</span>
                        </div>
                        <a href="{% url 'comprar' p.id %}" class="btn-comprar">Comprar</a>
                    </div>
                </div>
            {% empty %}
                <p class="no-products">Nenhum produto dispon√≠vel no momento.</p>
            {% endfor %}
        </div>
    </section>
{% endblock conteudo %}